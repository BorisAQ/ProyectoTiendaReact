(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,a,t){e.exports=t(83)},52:function(e,a,t){},54:function(e,a,t){},56:function(e,a,t){},83:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(24),o=t.n(c),l=(t(52),t(25)),i=(t(54),t(56),t(99)),s=t(70),u=t(20),d=t(12),m=t(13),p=t(15),h=t(14),E=t(16),b=t(8),g=t(10),f="https://basepruebas-6eece.firebaseio.com/Catalogo/.json",v=function(e){fetch(f,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){e(a)})},O=function(e,a,t){return fetch(f,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(v(a)).then(t.push("/dashboard"))},j="ADD_LOGIN",y="SET_PRODUCTOS",C="ADD_PRODUCTO";function N(e){return{type:j,payload:e}}function S(e){return{type:y,payload:e}}var w=t(17),k=t(84),x=t(85),I=t(86),_=t(87),T=t(88),P=t(89),D=t(96),q=t(90),A=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(p.a)(this,Object(h.a)(a).call(this,e))).state={username:"",password:"",loggeado:!1,errors:{},formIsValid:!1},t.handleChange=t.handleChange.bind(Object(b.a)(Object(b.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(b.a)(Object(b.a)(t))),t.validateForm=t.validateForm.bind(Object(b.a)(Object(b.a)(t))),t}return Object(E.a)(a,e),Object(m.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(u.a)({},t,n))}},{key:"validateForm",value:function(){console.log("a");var e=this.state,a=e.username,t=e.password,n={},r=!0;return a||(r=!1,n.username="Introduce el correo"),t||(r=!1,n.password="Introduce la contrase\xf1a"),this.setState({errors:n,formIsValid:r}),console.log(this.state),r}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{className:" contenedor "},r.a.createElement(I.a,{md:{size:6,offset:3},className:"text-center  d-flex align-items-center "},r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement("h3",{className:"text-white "},"Inicia Sesion"))),r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement(_.a,null,r.a.createElement(T.a,{className:"text-white"},"Correo electronico:"),r.a.createElement(P.a,{required:!0,className:"texto",type:"text",name:"username",onChange:this.handleChange})))),r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement(_.a,null,r.a.createElement(T.a,{className:"text-white"},"Contrase\xf1a:"),r.a.createElement(P.a,{required:!0,className:"texto",type:"password",name:"password",onChange:this.handleChange})))),r.a.createElement(x.a,null,r.a.createElement(I.a,{className:"text-center"},!this.state.errors.formIsValid&&this.state.username&&this.state.password&&this.state.formIsValid?r.a.createElement(D.a,{color:"danger"},"Error en el inicio de sesi\xf3n"):"",r.a.createElement(q.a,{color:"success"},"Ingresar"))))))))))))}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault();var t=this.props,n=t.addLogin,r=t.setProductos;this.validateForm()&&fetch("https://basepruebas-6eece.firebaseio.com/CatalogoUsuario/.json").then(function(e){return e.json()}).then(function(e){e.some(function(e){return e.usuario===a.state.username&&String(e.password)===String(a.state.password)})&&(a.setState({loggeado:!0}),a.props.history.push("/dashboard"),n({usuario:a.state.username,loggeado:!0}),v(r))})}}]),a}(r.a.Component);var L=Object(g.b)(function(e){return{}},function(e){return Object(l.a)({},Object(w.a)({addLogin:N,setProductos:S},e))})(A),z=t(98),U=t(91),V=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(p.a)(this,Object(h.a)(a).call(this,e))).state={valor:0},t.handleChange=t.handleChange.bind(Object(b.a)(Object(b.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(b.a)(Object(b.a)(t))),t}return Object(E.a)(a,e),Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({valor:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.props,t=a.addToCart,n=a.producto;n.cantidadEvento=Number(this.state.valor),t(n)}},{key:"render",value:function(){var e=this.props,a=e.producto,t=e.history;return r.a.createElement("div",{key:a.id,className:"marco"},r.a.createElement("img",{className:"imagenCatalogo",alt:a.nombre,src:"/images/".concat(a.imagen)}),r.a.createElement("h4",null,a.nombre),r.a.createElement("div",null,r.a.createElement("h6",null,r.a.createElement("span",null,"Precio:"),r.a.createElement("span",null,"".concat(a.precio,"$")))),r.a.createElement("div",null,r.a.createElement("h6",null,r.a.createElement("span",null,"Unidades disponibles:"),r.a.createElement("span",null,"".concat(a.cantidad)))),r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(q.a,{color:"primary",onClick:function(){return t.push("/Producto/".concat(a.id))}},"Ver mas"),r.a.createElement(U.a,{className:"margenIzquierda10",onSubmit:this.handleSubmit},r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(q.a,{color:"warning"},"A\xf1adir"),r.a.createElement(P.a,{min:"0",max:a.cantidad,className:"cantidad",type:"number",value:this.state.valor,onChange:this.handleChange})))))))}}]),a}(r.a.Component),F=t(92),R=t(93),X=t(94),B=t(95),J=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(p.a)(this,Object(h.a)(a).call(this,e))).state={txtbusqueda:""},t.handleChange=t.handleChange.bind(Object(b.a)(Object(b.a)(t))),t}return Object(E.a)(a,e),Object(m.a)(a,[{key:"ordenar",value:function(e){return e.sort(function(e,a){return e.id<a.id})}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(u.a)({},t,n))}},{key:"filtrar",value:function(e,a){return e.filter(function(e){return e.nombre.toLowerCase().includes(a.toLowerCase())})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"margenArriba25"},r.a.createElement(k.a,{className:"bg-light"},r.a.createElement(F.a,{color:"light",light:!0,expand:"md"},r.a.createElement(R.a,null,"Cat\xe1logo de productos"),r.a.createElement(X.a,{className:"ml-auto",navbar:!0},r.a.createElement(B.a,null,"\xbfQu\xe9 estas buscando?"),r.a.createElement("br",null),r.a.createElement(P.a,{onChange:this.handleChange,type:"text",name:"txtbusqueda"}," "))),r.a.createElement(x.a,null,this.state.txtbusqueda?this.props.productos&&this.props.productos.length>0?this.ordenar(this.filtrar(this.props.productos,this.state.txtbusqueda)).map(function(a){return r.a.createElement(V,{producto:a,history:e.props.history,addToCart:e.props.addToCart,key:a.id})}):"No se han encontrado productos para su venta.":this.props.productos&&this.props.productos.length>0?this.ordenar(this.props.productos).map(function(a){return r.a.createElement(V,{producto:a,history:e.props.history,addToCart:e.props.addToCart,key:a.id})}):"No se han encontrado productos para su venta.")))}}]),a}(r.a.Component);var $=Object(g.b)(function(e){return{productos:e.productos}},function(e){return{addToCart:function(a){e(function(e){return{type:C,payload:e}}(a))}}})(J),G=Object(z.a)($);var W=Object(z.a)(Object(g.b)(function(e){return{productos:e.productos}})(function(e){return r.a.createElement("div",{className:"margenArriba25"},e.productos&&e.productos.length>0?e.productos.filter(function(a){return Number(a.id)===Number(e.id)}).map(function(a){return r.a.createElement("div",{key:a.id},r.a.createElement(k.a,{className:"bg-light"},r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement("h1",null,a.nombre))),r.a.createElement(x.a,null,r.a.createElement(I.a,{xs:"12",lg:"8"},r.a.createElement("img",{alt:a.nombre,className:"imagenDetalle",src:"/images/".concat(a.imagen)})),r.a.createElement(I.a,{xs:"12",lg:"4"},r.a.createElement("h3",null,"Precio:","".concat(a.precio)),r.a.createElement("h4",null,"Unidades disponibles:","".concat(a.cantidad)))),r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement(q.a,{color:"primary",onClick:function(){return e.history.goBack()}},"Atras")))))}):"No existe descripcion por favor inicie sesi\xf3n")})),Q=t(46),H=function(e){function a(){return Object(d.a)(this,a),Object(p.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.producto;return r.a.createElement("div",{key:e.id},r.a.createElement(x.a,null,r.a.createElement(I.a,{xs:"12",lg:"4",className:"text-center"},r.a.createElement("img",{alt:e.nombre,height:100,src:"/images/".concat(e.imagen)})),r.a.createElement(I.a,{xs:"12",lg:"8"},r.a.createElement("div",null,r.a.createElement("span",null,"Precio:"),r.a.createElement("span",null,"".concat(e.precio,"$"))),r.a.createElement("div",null,r.a.createElement("span",null,"Unidades solicitadas:"),r.a.createElement("span",null,"".concat(e.cantidadSolicitada))),r.a.createElement("div",null,r.a.createElement("span",null,"Subtotal:"),r.a.createElement("span",null,(e.cantidadSolicitada*e.precio).toFixed(2))))))}}]),a}(r.a.Component),K=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).pagar=function(){var e=t.props.setProductos;O(t.props.productos.map(function(e){e.cantidadSolicitada,e.cantidadEvento;return Object(Q.a)(e,["cantidadSolicitada","cantidadEvento"])}),e,t.props.history)},t}return Object(E.a)(a,e),Object(m.a)(a,[{key:"itemsCarro",value:function(e){return e.filter(function(e){return e.cantidadSolicitada>0})}},{key:"itemsSuma",value:function(e){return e.map(function(e){return e.cantidadSolicitada*e.precio}).reduce(function(e,a){return e+a},0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"margenArriba25"},r.a.createElement(k.a,{className:"bg-light"},r.a.createElement(x.a,null,r.a.createElement(I.a,null,r.a.createElement("h1",null,"Carrito de compras"))),r.a.createElement(x.a,null,r.a.createElement(I.a,null,this.props.productos&&this.props.productos.length?this.itemsCarro(this.props.productos).map(function(e){return r.a.createElement(H,{producto:e,key:e.id})}):r.a.createElement("div",null,"No hay carrito")),r.a.createElement(I.a,null,r.a.createElement("h1",null,"Total:",this.itemsSuma(this.props.productos).toFixed(2)),r.a.createElement(q.a,{onClick:this.pagar},"Pagar")))))}}]),a}(r.a.Component);var M=Object(g.b)(function(e){return{productos:e.productos}},function(e){return{setProductos:function(a){e(S(a))}}})(K),Y=Object(z.a)(M),Z=function(){return r.a.createElement(i.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:L}),r.a.createElement(s.a,{exact:!0,path:"/Dashboard",component:G}),r.a.createElement(s.a,{exact:!0,path:"/Producto/:productoId",render:function(e){return r.a.createElement(W,{id:e.match.params.productoId})}}),r.a.createElement(s.a,{exact:!0,path:"/CarroPagar",component:Y}))},ee=t(100),ae=t(22),te=t.n(ae),ne=t(23);var re=Object(z.a)(Object(g.b)(function(e){return{login:e.login,productos:e.productos}},function(e){return Object(l.a)({},Object(w.a)({addLogin:N,setProductos:S},e))})(function(e){function a(e){return e.filter(function(e){return e.cantidadSolicitada>0})}return r.a.createElement("div",{className:e.login.loggeado?"estiloAplicacion":"estiloLogin"},r.a.createElement(k.a,null,e.login.loggeado?r.a.createElement("div",null,r.a.createElement(F.a,{color:"light",light:!0,expand:"md"},r.a.createElement(R.a,null,"La bodega"),r.a.createElement(X.a,{className:"ml-auto",navbar:!0},r.a.createElement(B.a,null,r.a.createElement(ee.a,{to:"/Dashboard",className:"margenIzquierda10"},r.a.createElement(te.a,{className:"colorIcono ",size:20,icon:ne.ic_apps})," "))),r.a.createElement(X.a,null,r.a.createElement(B.a,null,r.a.createElement(ee.a,{to:"/CarroPagar",className:"margenIzquierda10"},r.a.createElement(te.a,{className:"colorIcono",size:20,icon:ne.ic_shopping_cart})," ",a(e.productos).length>0?r.a.createElement("span",{class:"badge badge-pill badge-danger itemCarrito"},a(e.productos).length):"","  "))),r.a.createElement(X.a,null,r.a.createElement(B.a,null,r.a.createElement(ee.a,{to:"/Dashboard",className:"margenIzquierda10",onClick:function(){return v(e.setProductos)}},r.a.createElement(te.a,{className:"colorIcono",size:20,icon:ne.ic_archive})))),r.a.createElement(X.a,null,r.a.createElement(B.a,null,r.a.createElement(ee.a,{to:"/",className:"margenIzquierda10",onClick:function(){e.addLogin({usuario:null,loggeado:!1})}},r.a.createElement(te.a,{size:20,className:"colorIcono",icon:ne.ic_exit_to_app})))))):r.a.createElement("div",null),r.a.createElement(Z,null)))})),ce=t(97);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case j:return{usuario:a.payload.usuario,loggeado:a.payload.loggeado};default:return e}},le=t(45),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case y:return a.payload.map(function(e){return e.cantidadSolicitada=0,e.cantidadEvento=0,e});case C:return function(e,a){return a.cantidadEvento<=a.cantidad&&(a.cantidad=a.cantidad-a.cantidadEvento,a.cantidadSolicitada=a.cantidadSolicitada+a.cantidadEvento),Object(le.a)((t=e,n=a,t.filter(function(e){return e.id!==n.id}))).concat([a]);var t,n}(e,a.payload);default:return e}},se=Object(w.b)({login:oe,productos:ie}),ue=Object(w.c)(se,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());t(81);o.a.render(r.a.createElement(g.a,{store:ue},r.a.createElement(ce.a,null,r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,2,1]]]);
//# sourceMappingURL=main.6eb7adac.chunk.js.map